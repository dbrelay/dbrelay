<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Slow connection or data retrieval</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="FreeTDS User Guide"
HREF="index.htm"><LINK
REL="UP"
TITLE="Troubleshooting"
HREF="troubleshooting.htm"><LINK
REL="PREVIOUS"
TITLE='"Page contains no data"'
HREF="pagenodata.htm"><LINK
REL="NEXT"
TITLE="Getting Help"
HREF="help.htm"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="userguide.css"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="PRODUCTNAME"
>FreeTDS</SPAN
> User Guide: A Guide to Installing, Configuring, and Running <SPAN
CLASS="PRODUCTNAME"
>FreeTDS</SPAN
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="pagenodata.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 8. Troubleshooting</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="help.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SEEMTOOSLOW"
>Slow connection or data retrieval</A
></H1
><P
><SPAN
CLASS="PRODUCTNAME"
>FreeTDS</SPAN
> is <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>not</I
></SPAN
> slow.  We know this because we've tested it.  It's measurably slower than the vendors' products for some operations, but it's not noticeably slower and it's certainly no laggard.  If your experience is different, if you're waiting 30 seconds for simple operations or minutes instead of seconds for for query results, something is up with your setup.  There are two likely culprits.  
		</P
><P
></P
><UL
><LI
STYLE="list-style-type: disc"
><P
>Logging.  If everything seems a bit sluggish, check to make sure logging is turned off. <CODE
CLASS="ENVAR"
>TDSDUMP</CODE
> should not be defined, and there should be no <TT
CLASS="LITERAL"
>dump file</TT
>  mentioned in <TT
CLASS="FILENAME"
>freetds.conf</TT
>.  You can double-check by setting <CODE
CLASS="ENVAR"
>TDSDUMPCONFIG</CODE
> temporarily, which will log only the startup process. </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>DNS.  If connecting to the server takes 30 seconds or 1 minute, you could do worse than to check your <TT
CLASS="FILENAME"
>resolv.conf</TT
>.  Use <B
CLASS="COMMAND"
>host</B
> or <B
CLASS="COMMAND"
>nslookup</B
> to confirm that <SPAN
CLASS="PRODUCTNAME"
>FreeTDS</SPAN
> can actually resolve the name/address you provided in <TT
CLASS="FILENAME"
>freetds.conf</TT
>.  Give particular attention to reverse DNS lookups, if you were forced (or thought you were forced) to identify the server by number, instead of by name, as Vint intended.  You can defeat <SPAN
CLASS="PRODUCTNAME"
>FreeTDS</SPAN
>'s automatic reverse-DNS lookup feature by inserting
		<PRE
CLASS="PROGRAMLISTING"
>		#define NOREVERSELOOKUPS
		</PRE
>
in <TT
CLASS="FILENAME"
>src/tds/config.c</TT
>, rebuilding, and reinstalling.
<DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Reverse lookup code has been removed as of version 0.62 due to wrong implementation.</P
></TD
></TR
></TABLE
></DIV
>
		</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>Packet size.  Check packet size setting on <TT
CLASS="FILENAME"
>freetds.conf</TT
> (see <TT
CLASS="LITERAL"
>initial block size</TT
>). Default value (no configuration) is usually fine. The slowness is due to multiple packet to use. 
		Under <SPAN
CLASS="PRODUCTNAME"
><ACRONYM
CLASS="ACRONYM"
>GNU</ACRONYM
>/Linux</SPAN
> system we use an optimization to reduce network traffic so you shouldn't see much difference using this system. </P
></LI
></UL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="pagenodata.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.htm"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="help.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>"Page contains no data"</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="troubleshooting.htm"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Getting Help</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>