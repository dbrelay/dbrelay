<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FreeTDS API: Charset conversion</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Charset conversion<br>
<small>
[<a class="el" href="a00294.html">LibTDS API</a>]</small>
</h1>Convert between different charsets.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga21" doxytag="conv::CHUNK_ALLOC"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>CHUNK_ALLOC</b>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga5" doxytag="conv::_iconv_close"></a>
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>_iconv_close</b> (iconv_t *cd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga19" doxytag="conv::collate2charset"></a>
static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>collate2charset</b> (int sql_collate, int lcid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga15" doxytag="conv::lookup_canonic"></a>
static int&nbsp;</td><td class="memItemRight" valign="bottom"><b>lookup_canonic</b> (const CHARACTER_SET_ALIAS aliases[], const char *charset_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga14">skip_one_input_sequence</a> (iconv_t cd, const <a class="el" href="a00136.html">TDS_ENCODING</a> *charset, const char **input, size_t *input_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the input sequence pointer to the next valid position.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga13" doxytag="conv::tds7_srv_charset_changed"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds7_srv_charset_changed</b> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, int sql_collate, int lcid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga16">tds_canonical_charset</a> (const char *charset_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine canonical iconv character set.  <a href="#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga17">tds_canonical_charset_name</a> (const char *charset_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine canonical iconv character set name.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga9">tds_iconv</a> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, const TDSICONV *conv, TDS_ICONV_DIRECTION io, const char **inbuf, size_t *inbytesleft, char **outbuf, size_t *outbytesleft)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper around iconv(3).  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga7" doxytag="conv::tds_iconv_close"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_close</b> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga10">tds_iconv_fread</a> (iconv_t cd, FILE *stream, size_t field_len, size_t term_len, char *outbuf, size_t *outbytesleft)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a data file, passing the data through iconv().  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga8" doxytag="conv::tds_iconv_free"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_free</b> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga20" doxytag="conv::tds_iconv_from_collate"></a>
TDSICONV *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga20">tds_iconv_from_collate</a> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, int sql_collate, int lcid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get iconv information from a LCID (to support different column encoding under MSSQL2K). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga11" doxytag="conv::tds_iconv_get_info"></a>
static TDSICONV *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga11">tds_iconv_get_info</a> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, const char *canonic_charset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a iconv info structure, allocate and initialize if needed. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga6" doxytag="conv::tds_iconv_info_close"></a>
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_info_close</b> (TDSICONV *char_conv)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga4">tds_iconv_info_init</a> (TDSICONV *char_conv, const char *client_name, const char *server_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open iconv descriptors to convert between character sets (both directions).  <a href="#ga4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga3" doxytag="conv::tds_iconv_open"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_open</b> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, const char *charset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga12" doxytag="conv::tds_srv_charset_changed"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_srv_charset_changed</b> (<a class="el" href="a00144.html">TDSSOCKET</a> *tds, const char *charset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga18">tds_sybase_charset_name</a> (const char *charset_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine the name Sybase uses for a character set, given a canonical iconv name.  <a href="#ga18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga2" doxytag="conv::tds_sys_iconv"></a>
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_sys_iconv</b> (iconv_t cd, const char **inbuf, size_t *inbytesleft, char **outbuf, size_t *outbytesleft)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1" doxytag="conv::tds_sys_iconv_close"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>tds_sys_iconv_close</b> (iconv_t cd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">iconv_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00288.html#ga0">tds_sys_iconv_open</a> (const char *tocode, const char *fromcode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inputs are FreeTDS canonical names, no other.  <a href="#ga0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Convert between different charsets. 
<p>
Set up the initial iconv conversion descriptors. When the socket is allocated, three TDSICONV structures are attached to iconv. They have fixed meanings: <ul>
<li>0. Client &lt;-&gt; UCS-2 (client2ucs2) </li>
<li>1. Client &lt;-&gt; server single-byte charset (client2server_chardata) </li>
<li>2. ISO8859-1 &lt;-&gt; server meta data (iso2server_metadata)</li>
</ul>
Other designs that use less data are possible, but these three conversion needs are very often needed. By reserving them, we avoid searching the array for our most common purposes.<p>
To solve different iconv names and portability problems FreeTDS maintains a list of aliases each charset.<p>
First we discover the names of our minimum required charsets (UTF-8, ISO8859-1 and UCS2). Later, as and when it's needed, we try to discover others.<p>
There is one list of canonic names (GNU iconv names) and two sets of aliases (one for other iconv implementations and another for Sybase). For every canonic charset name we cache the iconv name found during discovery. <hr><h2>Function Documentation</h2>
<a class="anchor" name="ga14" doxytag="iconv.c::skip_one_input_sequence"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static int skip_one_input_sequence           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iconv_t&nbsp;</td>
          <td class="mdname" nowrap> <em>cd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="a00136.html">TDS_ENCODING</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>charset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>input_size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Move the input sequence pointer to the next valid position. 
<p>
Used when an input character cannot be converted. <dl compact><dt><b>Returns:</b></dt><dd>number of bytes to skip. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="iconv.c::tds_canonical_charset"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static int tds_canonical_charset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>charset_name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine canonical iconv character set. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>canonical position, or -1 if lookup failed. </dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Returned name can be used in bytes_per_char(), above. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="iconv.c::tds_canonical_charset_name"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* tds_canonical_charset_name           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>charset_name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine canonical iconv character set name. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>canonical name, or NULL if lookup failed. </dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Returned name can be used in bytes_per_char(), above. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="iconv.c::tds_iconv"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">size_t tds_iconv           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00144.html">TDSSOCKET</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>tds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const TDSICONV *&nbsp;</td>
          <td class="mdname" nowrap> <em>conv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TDS_ICONV_DIRECTION&nbsp;</td>
          <td class="mdname" nowrap> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char **&nbsp;</td>
          <td class="mdname" nowrap> <em>inbuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>inbytesleft</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>outbuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>outbytesleft</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Wrapper around iconv(3). 
<p>
Same parameters, with slightly different behavior. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tds</em>&nbsp;</td><td>state information for the socket and the TDS protocol </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>io</em>&nbsp;</td><td>Enumerated value indicating whether the data are being sent to or received from the server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conv</em>&nbsp;</td><td>information about the encodings involved, including the iconv(3) conversion descriptors. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inbuf</em>&nbsp;</td><td>address of pointer to the input buffer of data to be converted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inbytesleft</em>&nbsp;</td><td>address of count of bytes in <em>inbuf</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outbuf</em>&nbsp;</td><td>address of pointer to the output buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outbytesleft</em>&nbsp;</td><td>address of count of bytes in <em>outbuf</em>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>of irreversible conversions performed. -1 on error, see iconv(3) documentation for a description of the possible values of <em>errno</em>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Unlike iconv(3), none of the arguments can be nor point to NULL. Like iconv(3), all pointers will be updated. Success is signified by a nonnegative return code and <em>*inbytesleft</em> == 0. If the conversion descriptor in <em>iconv</em> is -1 or NULL, <em>inbuf</em> is copied to <em>outbuf</em>, and all parameters updated accordingly.</dd></dl>
If a character in <em>inbuf</em> cannot be converted because no such cbaracter exists in the <em>outbuf</em> character set, we emit messages similar to the ones Sybase emits when it fails such a conversion. The message varies depending on the direction of the data. On a read error, we emit Msg 2403, Severity 16 (EX_INFO): "WARNING! Some character(s) could not be converted into client's character set. Unconverted bytes were changed to question marks ('?')." On a write error we emit Msg 2402, Severity 16 (EX_USER): "Error converting client characters into server's character set. Some character(s) could not be converted." and return an error code. Client libraries relying on this routine should reflect an error back to the application.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000041">Todo:</a></b></dt><dd>Check for variable multibyte non-UTF-8 input character set.</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000041">Todo:</a></b></dt><dd>Use more robust error message generation.</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000041">Todo:</a></b></dt><dd>For reads, cope with <em>outbuf</em> encodings that don't have the equivalent of an ASCII '?'.</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000041">Todo:</a></b></dt><dd>Support alternative to '?' for the replacement character. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="iconv.c::tds_iconv_fread"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">size_t tds_iconv_fread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iconv_t&nbsp;</td>
          <td class="mdname" nowrap> <em>cd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>field_len</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>term_len</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>outbuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>outbytesleft</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a data file, passing the data through iconv(). 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Count of bytes either not read, or read but not converted. Returns zero on success. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="iconv.c::tds_iconv_info_init"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static int tds_iconv_info_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">TDSICONV *&nbsp;</td>
          <td class="mdname" nowrap> <em>char_conv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>server_name</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open iconv descriptors to convert between character sets (both directions). 
<p>
1. Look up the canonical names of the character sets. 2. Look up their widths. 3. Ask iconv to open a conversion descriptor. 4. Fail if any of the above offer any resistance. <dl compact><dt><b>Remarks:</b></dt><dd>The charset names written to <em>iconv</em> will be the canonical names, not necessarily the names passed in. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="iconv.c::tds_sybase_charset_name"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* tds_sybase_charset_name           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>charset_name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine the name Sybase uses for a character set, given a canonical iconv name. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Sybase name, or NULL if lookup failed. </dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Returned name can be sent to Sybase a server. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="iconv.c::tds_sys_iconv_open"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">iconv_t tds_sys_iconv_open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>tocode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>fromcode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Inputs are FreeTDS canonical names, no other. 
<p>
No alias list is consulted.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed May 7 19:22:11 2008 for FreeTDS API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
