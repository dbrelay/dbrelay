<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Viaduct Table Editor Example</title>
    <link rel="stylesheet" href="../doc/doc.css" type="text/css"/>        

	  <link rel="stylesheet" href="/js/ext-3.2.1/resources/css/ext-all-notheme.css" type="text/css">   
	  <link rel="stylesheet" href="/js/ext-3.2.1/resources/css/xtheme-blue.css" type="text/css">
	                                             
		<link rel="stylesheet" href="/css/dbrelay.css" type="text/css">
	   <style> 
	  	body{
				font-size:11px;
				font-family:Arial, Helvetica, sans-serf;
			}                                         
			
			#page{
				width:900px; 
				margin-left: auto ;
				margin-right: auto ;
				
			}     
			
			#editor{
				width:900px;
			}    
			
	
			
			</style>                                                                                                                                  

    <script src="/js/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>

    <script src="/js/ext-3.2.1/adapter/jquery/ext-jquery-adapter.js" type="text/javascript" charset="utf-8"></script>
		<script src="/js/ext-3.2.1/ext-all.js" type="text/javascript" charset="utf-8"></script>
		  

		<script src="/js/dbrelay-core-min.js" type="text/javascript" charset="utf-8"></script>  
	  <script src="/js/dbrelay-ui-sqltableeditor-min.js" type="text/javascript" charset="utf-8"></script>
		
		
    <script>
             
		Ext.onReady(function(){
		  var sqlDb = sqlDbAccess({
				sql_server : '172.16.115.128', 
				sql_port : '', 
				sql_database : 'viaducttest',
				sql_user : 'sa',
				sql_password : '',  
				connection_name : 'tabledemo',
				connection_timeout : 60
			});
		
			var tableEdit = new dbrui.SqlTableEditor({ 
				tableName: 'people',
				sqlDb: sqlDb,
				serverSidePaging:true,
				pageSize:25,  
				renderTo:'editor',
				width:'auto',
				autoWidth:true,
				height:500
			});
		
		});
		</script>
		
	  
	</head>
	
	
	<body>
		<div id="page"> 
			<h1>Table Editor Example</h1> 
			<p>Example of how to display a table editor inline on a page.</p>
 			<p>&nbsp;</p>
			<div id="editor"></div> 
			<h2>Code</h2>     
			<h3>External Stylesheets & JavaScript files:</h3>                
			<pre class="codeblock">
<span class="comment">&lt;!-- CSS --&gt;</span>  
&lt;link rel="stylesheet" href="/js/ext-3.2.1/resources/css/ext-all-notheme.css" type="text/css"/>
<span class="comment">&lt;!-- Theme CSS (mess around with this if you want to change the colors) --&gt;</span>   
&lt;link rel="stylesheet" href="/js/ext-3.2.1/resources/css/xtheme-blue.css" type="text/css"/>  

<span class="comment">&lt;!-- jQuery --&gt;</span>  
&lt;script src="/js/jquery/jquery-1.4.2.min.js" type="text/javascript">&lt;/script>

<span class="comment">&lt;!-- ExtJS --&gt;</span>  
&lt;script src="/js/ext-3.2.1/adapter/jquery/ext-jquery-adapter.js" type="text/javascript" charset="utf-8">&lt;/script>
&lt;script src="/js/ext-3.2.1/ext-all.js" type="text/javascript" charset="utf-8">&lt;/script>
  
<span class="comment">&lt;!-- DBRelay --&gt;</span>
&lt;script src="/js/dbrelay-core-min.js" type="text/javascript" charset="utf-8">&lt;/script>  
&lt;script src="/js/dbrelay-ui-sqltableeditor-min.js" type="text/javascript" charset="utf-8">&lt;/script>
   
	  </pre>
	
			<h3>The following JavaScript code should be executed after the DOM has finished loading</h3>
			<pre class="codeblock"> 

<span class="comment">/* Create a new sqlDbAccess instance for our database connection information */</span> 
var sqlDb = sqlDbAccess({   
	
	<span class="comment">//Hostname on which the SQL server is running. </span>
	sql_server : '172.16.115.128', 
	
	<span class="comment">//Optional port number, on which the SQL server is listening. 1433 is the default.</span>
	sql_port : '',  
	<span class="comment">//Optional name of the primary database for the connection. User's default database is used, if not specified.</span>
	sql_database : 'viaducttest', 
	
	<span class="comment">//Username string recognised by the SQL server.</span>   
	sql_user : 'sa',                
	
	<span class="comment">//Optional password for the sql_user.</span>   
	sql_password : '',              
	
	<span class="comment">//Optional name to persist this connection under.</span>   
	connection_name : 'tabledemo',  
	
	<span class="comment">/*Optional number of seconds from the response to the last query before the connection will be considered idle</span> 
	<span class="comment">and marked for destroying. The default is 60. The silently enforced maximum connection lifespan is 28800 (8 hours). */</span>   
	connection_timeout : 60  
});   
       

<span class="comment">/* Create a new dbrui.SqlTableEditor instance.</span>
<span class="comment">(dbrui.SqlTableEditor extends Ext.Panel, so standard Ext.Panel config options can be used as well) */</span>
var tableEdit = new dbrui.SqlTableEditor({  
	<span class="comment">//table name</span>
	tableName: 'people',	 
	   
	<span class="comment">//sqlDbAccess object which contains connection information</span>  
	sqlDb: sqlDb,         
	   
	<span class="comment">//true to use SQL queries for paging, which is recommended for tables with a lot of data</span> 
	serverSidePaging:true, 
	
	<span class="comment">//default page size (# rows to display per page)</span>
	pageSize:25,		
					  
	<span class="comment">// id of html div to render to (REQUIRED or editor will not show up!)</span>  
	renderTo:'editor',                                     
	
	<span class="comment">//width, can be 'auto' (along with autoWidth:true) to stretch 100% of the div.</span>   		
	width:'auto',							
	autoWidth:true,
	 
	<span class="comment">//height (fixed pixel height is REQUIRED unless editor is integrated into an Ext.Viewport)</span>
	height:500                      	
});  

 
			</pre>
			
			
		</div>
		
		
		
  </body>
</html>
